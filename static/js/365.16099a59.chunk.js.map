{"version":3,"file":"static/js/365.16099a59.chunk.js","mappings":"uPAGaA,EAAOC,EAAAA,QAAAA,KAAH,iMAWJC,EAAUD,EAAAA,QAAAA,IAAH,wEAELE,EAAAA,EAAAA,OAAAA,QAIFC,EAAQH,EAAAA,QAAAA,MAAH,iEAKLI,EAAQJ,EAAAA,QAAAA,MAAH,qWAeME,EAAAA,EAAAA,OAAAA,QAIXG,EAAYL,EAAAA,QAAAA,OAAH,2J,uCCYtB,EAlDsB,SAAC,GAAkB,IAAhBM,EAAe,EAAfA,SACvB,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAsCF,EAAAA,EAAAA,UAAS,UAA/C,eAAOG,EAAP,KAAoBC,EAApB,KAmBA,OACE,SAACZ,EAAD,CAAMO,SAlBa,SAAAM,GACnBA,EAAEC,iBACkB,WAAhBH,GACyB,KAAvBF,EAAYM,QAKlBR,EAASE,GACTG,EAAe,WALXI,EAAAA,OAAAA,QAAe,0BAOpB,EAOC,UACE,UAACd,EAAD,CAASe,MAAO,CAAEC,SAAU,YAA5B,WACE,SAACd,EAAD,CAAOe,QAAQ,iBACf,SAACd,EAAD,CACEe,KAAK,OACLC,KAAK,cACLC,aAAa,MAEbC,YAAY,SACZC,SAda,SAAAX,GACnBH,EAAeG,EAAEY,cAAcC,MAAMC,cACtC,EAaOD,MAAOjB,KAET,gBAAKQ,MAAO,CAAEC,SAAU,WAAYU,MAAO,OAAQC,IAAK,QAAxD,SACGC,QAAQrB,EAAYsB,OAAS,IAC5B,SAACzB,EAAD,CAAWc,KAAK,SAAhB,UACE,SAAC,MAAD,CAAUY,QAAS,kBAAMpB,EAAe,QAArB,OAGrB,SAACN,EAAD,CAAWc,KAAK,SAAhB,UACE,SAAC,MAAD,CAAiBa,KAAM,aAOpC,E,wCCpDYC,EAAYjC,EAAAA,QAAAA,IAAH,qKAUTC,EAAUD,EAAAA,QAAAA,IAAH,uN,4DCqEpB,EAhE0B,WAAO,IAAD,EACtBkC,GAAiBC,EAAAA,EAAAA,MAAjBD,aACFE,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,IACxBC,GAAaF,EAAAA,EAAAA,IAAYG,EAAAA,IACzBC,GAAQJ,EAAAA,EAAAA,IAAYK,EAAAA,IAE1B,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAE3C,GAA8BxC,EAAAA,EAAAA,UAC5ByC,OAAOC,WAAW,sBAAsBC,SAD1C,eAAOA,EAAP,KAAgBC,EAAhB,KAGMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACJpB,EAEAkB,EADY,KAAVN,GACOS,EAAAA,EAAAA,IAAa,CAAErB,aAAAA,EAAcY,MAAOA,KAEpCS,EAAAA,EAAAA,IAAa,CAAErB,aAAAA,KAGtBK,IACFiB,QAAQC,IAAI,yHACZL,GAASM,EAAAA,EAAAA,QAITnB,GACFa,GAASO,EAAAA,EAAAA,OAGXX,OACGC,WAAW,sBACXW,iBAAiB,UAAU,SAAAhD,GAAC,OAAIuC,EAAWvC,EAAEsC,QAAjB,GAChC,GAAE,CAACE,EAAUlB,EAAcY,EAAOP,IAMnC,OACE,+BACE,UAACN,EAAD,YACE,SAAC4B,EAAA,EAAD,CAAUC,MAAO,4BACjB,SAAC,EAAD,CAAexD,SARA,SAAAE,GACnBqC,EAAgB,CAAEC,MAAOtC,GAC1B,KAOK,UAAC,EAAD,YACE,SAACuD,EAAA,EAAD,IACCb,IAAW,SAACc,EAAA,EAAD,QAEZd,IAAW,SAACe,EAAA,EAAD,KACX7B,IAAa,SAAC,KAAD,IAMdA,IAAa,sCACbK,IAAS,6DAIjB,C","sources":["components/Notices/NoticesSearch/NoticesSearch.styled.jsx","components/Notices/NoticesSearch/NoticesSearch.jsx","pages/NoticesPage/NoticiesPage.styled.jsx","pages/NoticesPage/NoticesLayoutPage.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { theme } from 'styles/theme';\n\nexport const Form = styled.form`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 28px;\n\n  @media screen and (min-width: 768px) {\n    margin-bottom: 40px;\n  }\n`;\n\nexport const Wrapper = styled.div`\n  // &:hover > svg {\n  //   fill: ${theme.colors.accent};\n  // }\n`;\n\nexport const Label = styled.label`\n  position: relative;\n  display: flex;\n`;\n\nexport const Input = styled.input`\n  position: relative;\n  display: flex;\n  align-items: center;\n  box-shadow: 7px 4px 14px rgba(49, 21, 4, 0.07);\n  border: 1px solid transparent;\n  border-radius: 40px;\n  padding: 13px 40px 13px 20px;\n\n  @media screen and (min-width: 768px) {\n    width: 608px;\n  }\n\n  &:hover,\n  :focus {\n    border: 1px solid ${theme.colors.accent};\n  }\n`;\n\nexport const BtnSearch = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: transparent;\n  width: 24px;\n  height: 24px;\n`;\n","import { useState } from 'react';\nimport { Form, Input, BtnSearch, Label, Wrapper } from './NoticesSearch.styled';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { RxCross1 } from 'react-icons/rx';\nimport { AiOutlineSearch } from 'react-icons/ai';\n\nconst NoticesSearch = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [changeInput, setChangeInput] = useState('search');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (changeInput === 'search') {\n      if (searchQuery.trim() === '') {\n        Notify.failure('Sorry, enter your query');\n        return;\n      }\n    }\n    onSubmit(searchQuery);\n    setChangeInput('search');\n    // setSearchQuery('');\n  };\n\n  const handleChange = e => {\n    setSearchQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Wrapper style={{ position: 'relative' }}>\n        <Label htmlFor=\"searchQuery\" />\n        <Input\n          type=\"text\"\n          name=\"searchQuery\"\n          autoComplete=\"off\"\n          // autoFocus\n          placeholder=\"Search\"\n          onChange={handleChange}\n          value={searchQuery}\n        />\n        <div style={{ position: 'absolute', right: '12px', top: '10px' }}>\n          {Boolean(searchQuery.length > 0) ? (\n            <BtnSearch type=\"submit\">\n              <RxCross1 onClick={() => setChangeInput('erase')} />\n            </BtnSearch>\n          ) : (\n            <BtnSearch type=\"submit\">\n              <AiOutlineSearch size={20} />\n            </BtnSearch>\n          )}\n        </div>\n      </Wrapper>\n    </Form>\n  );\n};\n\nexport default NoticesSearch;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  width: 100%;\n  position: relative;\n  margin-bottom: 100px;\n\n  @media screen and (min-width: 1280px) {\n    margin-bottom: 200px;\n  }\n`;\n\nexport const Wrapper = styled.div`\n  position: relative;\n  @media screen and (min-width: 320px) {\n    margin-bottom: 18px;\n  }\n\n  @media screen and (min-width: 768px) {\n    display: flex;\n    margin-bottom: 44px;\n  }\n`;\n","import NoticesSearch from 'components/Notices/NoticesSearch/NoticesSearch';\nimport NoticesCategoriesNav from 'components/Notices/NoticesCategoriesNav/NoticesCategoriesNav';\nimport Headline from 'components/Headline/Headline';\nimport AddNoticeButton from 'components/Notices/AddNoticeButton/AddNoticeButton';\nimport AddNoticeButtonMobile from 'components/Notices/AddNoticeButton/AddNoticeButtonMobile';\nimport { Container, Wrapper } from './NoticiesPage.styled';\nimport { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  fetchFavoritesNotices,\n  fetchNotices,\n  fetchUserNotices,\n} from 'redux/notices/notices-operation';\nimport { Outlet, useParams, useSearchParams } from 'react-router-dom';\nimport { selectIsLoading, selectError } from 'redux/notices/notices-selectors';\nimport { selectIsLogin } from 'redux/auth/auth-selectors';\n\nconst NoticesLayoutPage = () => {\n  const { categoryName } = useParams();\n  const isLoading = useSelector(selectIsLoading);\n  const isLoggedIn = useSelector(selectIsLogin);\n  const error = useSelector(selectError);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const [matches, setMatches] = useState(\n    window.matchMedia('(min-width: 768px)').matches\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (categoryName) {\n      if (query !== '') {\n        dispatch(fetchNotices({ categoryName, query: query }));\n      } else {\n        dispatch(fetchNotices({ categoryName }));\n      }\n    } else {\n      if (isLoggedIn) {\n        console.log('идем зя юзера нотисами');\n        dispatch(fetchUserNotices());\n      }\n    }\n\n    if (isLoggedIn) {\n      dispatch(fetchFavoritesNotices());\n    }\n\n    window\n      .matchMedia('(min-width: 768px)')\n      .addEventListener('change', e => setMatches(e.matches));\n  }, [dispatch, categoryName, query, isLoggedIn]);\n\n  const onFormSubmit = searchQuery => {\n    setSearchParams({ query: searchQuery });\n  };\n\n  return (\n    <>\n      <Container>\n        <Headline title={'Find your favorite pet'}></Headline>\n        <NoticesSearch onSubmit={onFormSubmit} />\n        <Wrapper>\n          <NoticesCategoriesNav />\n          {matches && <AddNoticeButton />}\n        </Wrapper>\n        {!matches && <AddNoticeButtonMobile />}\n        {!isLoading && <Outlet />}\n        {/* {isModalOpen && (\n          <Modal onCloseModal={closeModal}>\n            <ReadMoreModal notice={oneNotice} onCloseModal={closeModal} />\n          </Modal>\n        )} */}\n        {isLoading && <p>...loading</p>}\n        {error && <p>Ooops... Something went wrong</p>}\n      </Container>\n    </>\n  );\n};\n\nexport default NoticesLayoutPage;\n"],"names":["Form","styled","Wrapper","theme","Label","Input","BtnSearch","onSubmit","useState","searchQuery","setSearchQuery","changeInput","setChangeInput","e","preventDefault","trim","Notify","style","position","htmlFor","type","name","autoComplete","placeholder","onChange","currentTarget","value","toLowerCase","right","top","Boolean","length","onClick","size","Container","categoryName","useParams","isLoading","useSelector","selectIsLoading","isLoggedIn","selectIsLogin","error","selectError","useSearchParams","searchParams","setSearchParams","query","get","window","matchMedia","matches","setMatches","dispatch","useDispatch","useEffect","fetchNotices","console","log","fetchUserNotices","fetchFavoritesNotices","addEventListener","Headline","title","NoticesCategoriesNav","AddNoticeButton","AddNoticeButtonMobile"],"sourceRoot":""}